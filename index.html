<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gradient Generator</title>
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.3.0/fonts/remixicon.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="modulepreload" href="app.js">
    <link rel="preload" href="./pkg/gradient_noise_wasm.js" as="script">
    <link rel="preload" href="./pkg/gradient_noise_wasm_bg.wasm" as="fetch" type="application/wasm" crossorigin>
</head>
<body>
    <div class="loading" id="loading">
        <div class="spinner"></div>
        <p>Loading Gradient Generator...</p>
    </div>

    <div class="app" id="app" style="display: none;">
        <canvas id="background-canvas" class="background-canvas"></canvas>
        <div class="canvas-container">
            <canvas id="canvas" width="2000" height="2000"></canvas>
        </div>
        
        <div class="controls">
            <div class="control-group">
                <h3>View</h3>

                <div class="control-item">
                    <label>Aspect Ratio</label>
                    <div class="dropdown-container">
                        <select class="dropdown" id="aspect-ratio">
                            <option value="1:1">Square (1:1)</option>
                            <option value="16:9">Widescreen (16:9)</option>
                            <option value="4:3">Standard (4:3)</option>
                            <option value="3:2">Photo (3:2)</option>
                            <option value="21:9">Ultrawide (21:9)</option>
                            <option value="9:16">Portrait (9:16)</option>
                            <option value="3:4">Portrait Standard (3:4)</option>
                            <option value="2:3">Portrait Photo (2:3)</option>
                            <option value="custom">Custom</option>
                    </select>
                        <div class="dropdown-nav">
                            <button class="dropdown-nav-btn" data-direction="prev" data-target="aspect-ratio" title="Previous">
                                <i class="ri-arrow-up-s-line"></i>
                            </button>
                            <button class="dropdown-nav-btn" data-direction="next" data-target="aspect-ratio" title="Next">
                                <i class="ri-arrow-down-s-line"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="dimension-controls" id="dimension-controls">
                    <div class="control-item dimension-row">
                        <div class="dimension-group">
                            <label>Width</label>
                            <input type="number" class="dimension-input" id="width" min="200" max="8000" step="100" value="2000">
                        </div>
                        <div class="dimension-group">
                            <label>Height</label>
                            <input type="number" class="dimension-input" id="height" min="200" max="8000" step="100" value="2000">
                        </div>
                    </div>
                </div>

            </div>

            <div class="control-group">
                <div class="control-group-header">
                    <h3>Blending</h3>
                    <button class="randomize-colors-btn" id="randomize-blending" title="Randomize Blending">
                        <i class="ri-dice-line"></i>
                    </button>
                </div>

                <div class="control-item">
                    <label>Mode</label>
                    <div class="dropdown-container">
                        <select class="dropdown" id="blend-mode">
                            <option value="smooth">Smooth Linear</option>
                            <option value="radial">Radial Burst</option>
                            <option value="angular">Spiral Twist</option>
                            <option value="diamond">Diamond Shape</option>
                            <option value="vortex">Swirling Vortex</option>
                    </select>
                        <div class="dropdown-nav">
                            <button class="dropdown-nav-btn" data-direction="prev" data-target="blend-mode" title="Previous">
                                <i class="ri-arrow-up-s-line"></i>
                            </button>
                            <button class="dropdown-nav-btn" data-direction="next" data-target="blend-mode" title="Next">
                                <i class="ri-arrow-down-s-line"></i>
                            </button>
                    </div>
                </div>
            </div>

                <div class="control-item">
                    <label>Seed <span class="value-display" id="seed-value">42</span></label>
                    <input type="range" class="slider" id="seed" min="0" max="999999" value="42">
                </div>

                <div class="control-item">
                    <label>Color Spread <span class="value-display" id="color-spread-value">0.7</span></label>
                    <input type="range" class="slider" id="color-spread" min="0.2" max="2.0" step="0.1" value="0.7">
                </div>

                <div class="control-item">
                    <label>Flow Intensity <span class="value-display" id="flow-intensity-value">0.3</span></label>
                    <input type="range" class="slider" id="flow-intensity" min="0.0" max="1.0" step="0.05" value="0.3">
                </div>

                <div class="control-item">
                    <label>Organic Distortion <span class="value-display" id="organic-distortion-value">0.2</span></label>
                    <input type="range" class="slider" id="organic-distortion" min="0.0" max="1.0" step="0.05" value="0.2">
            </div>

                <div class="control-item">
                    <label>Color Variance <span class="value-display" id="color-variance-value">0.1</span></label>
                    <input type="range" class="slider" id="color-variance" min="0.0" max="0.3" step="0.01" value="0.1">
                </div>
                

                <div class="control-item center-bias-control">
                    <label>Center Bias <span class="value-display" id="center-bias-value">0.5</span></label>
                    <input type="range" class="slider" id="center-bias" min="0.0" max="1.0" step="0.01" value="0.5">
                </div>
                
                <div class="control-item">
                    <label>Canvas Rotation <span class="value-display" id="canvas-rotation-value">0</span></label>
                    <input type="range" class="slider" id="canvas-rotation" min="0" max="360" step="1" value="0">
                </div>
            </div>

            <div class="control-group">
                <div class="control-group-header">
                <h3>Colors</h3>
                    <button class="randomize-colors-btn" id="randomize-colors" title="Randomize Colors">
                        <i class="ri-dice-line"></i>
                    </button>
                </div>
                
                <div class="control-item">
                    <label>Color Preset</label>
                    <div class="dropdown-container">
                        <select class="dropdown" id="color-preset">
                            <option value="" disabled selected>Choose preset...</option>
                            <option value="sunset">Sunset</option>
                            <option value="ocean">Ocean</option>
                            <option value="forest">Forest</option>
                            <option value="cosmic">Cosmic</option>
                            <option value="fire">Fire</option>
                            <option value="ice">Ice</option>
                            <option value="earth">Earth</option>
                            <option value="neon">Neon</option>
                        </select>
                        <div class="dropdown-nav">
                            <button class="dropdown-nav-btn" data-direction="prev" data-target="color-preset" title="Previous">
                                <i class="ri-arrow-up-s-line"></i>
                            </button>
                            <button class="dropdown-nav-btn" data-direction="next" data-target="color-preset" title="Next">
                                <i class="ri-arrow-down-s-line"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="color-controls" id="color-controls">
                    <div class="color-item" draggable="true" data-color-index="0">
                        <div class="color-label-group">
                            <label>1.</label>
                            <button class="alpha-toggle" id="alpha-toggle-0" data-alpha="100" title="Toggle Opacity">
                                <i class="ri-eye-line"></i>
                            </button>
                        </div>
                        <input type="color" class="color-picker" id="color-0" value="#ff6b6b">
                        <i class="ri-draggable drag-handle"></i>
                    </div>
                    <div class="color-item" draggable="true" data-color-index="1">
                        <div class="color-label-group">
                            <label>2.</label>
                            <button class="alpha-toggle" id="alpha-toggle-1" data-alpha="100" title="Toggle Opacity">
                                <i class="ri-eye-line"></i>
                            </button>
                        </div>
                        <input type="color" class="color-picker" id="color-1" value="#4ecdc4">
                        <i class="ri-draggable drag-handle"></i>
                    </div>
                    <div class="color-item" draggable="true" data-color-index="2">
                        <div class="color-label-group">
                            <label>3.</label>
                            <button class="alpha-toggle" id="alpha-toggle-2" data-alpha="100" title="Toggle Opacity">
                                <i class="ri-eye-line"></i>
                            </button>
                        </div>
                        <input type="color" class="color-picker" id="color-2" value="#45b7d1">
                        <i class="ri-draggable drag-handle"></i>
                    </div>
                    <div class="color-item" draggable="true" data-color-index="3">
                        <div class="color-label-group">
                            <label>4.</label>
                            <button class="alpha-toggle" id="alpha-toggle-3" data-alpha="100" title="Toggle Opacity">
                                <i class="ri-eye-line"></i>
                            </button>
                        </div>
                        <input type="color" class="color-picker" id="color-3" value="#f9ca24">
                        <i class="ri-draggable drag-handle"></i>
                    </div>
                    <div class="color-item" draggable="true" data-color-index="4" style="display: none;">
                        <div class="color-label-group">
                            <label>5.</label>
                            <button class="alpha-toggle" id="alpha-toggle-4" data-alpha="100" title="Toggle Opacity">
                                <i class="ri-eye-line"></i>
                            </button>
                        </div>
                        <input type="color" class="color-picker" id="color-4" value="#6c5ce7">
                        <i class="ri-draggable drag-handle"></i>
                    </div>
                    <div class="color-item" draggable="true" data-color-index="5" style="display: none;">
                        <div class="color-label-group">
                            <label>6.</label>
                            <button class="alpha-toggle" id="alpha-toggle-5" data-alpha="100" title="Toggle Opacity">
                                <i class="ri-eye-line"></i>
                            </button>
                        </div>
                        <input type="color" class="color-picker" id="color-5" value="#fd79a8">
                        <i class="ri-draggable drag-handle"></i>
                    </div>
                    <button class="add-color-item" id="add-color-btn" title="Add Color">
                        <i class="ri-add-circle-line"></i>
                    </button>
                </div>
                
                <div class="trash-bin" id="trash-bin" title="Drag color here to remove">
                    <i class="ri-delete-bin-line"></i>
                </div>
            </div>

            <div class="control-group">
                <h3>Post Processing</h3>

                <div class="control-item">
                    <label>Levels - Shadows <span class="value-display" id="levels-shadows-value">0</span></label>
                    <input type="range" class="slider" id="levels-shadows" min="-100" max="100" step="1" value="0">
                </div>

                <div class="control-item">
                    <label>Levels - Midtones <span class="value-display" id="levels-midtones-value">0</span></label>
                    <input type="range" class="slider" id="levels-midtones" min="-100" max="100" step="1" value="0">
                </div>

                <div class="control-item">
                    <label>Levels - Highlights <span class="value-display" id="levels-highlights-value">0</span></label>
                    <input type="range" class="slider" id="levels-highlights" min="-100" max="100" step="1" value="0">
                </div>

                <div class="control-item">
                    <label>Hue Shift <span class="value-display" id="hue-shift-value">0</span></label>
                    <input type="range" class="slider" id="hue-shift" min="-180" max="180" step="1" value="0">
            </div>

                <div class="control-item">
                    <label>Saturation <span class="value-display" id="saturation-value">0</span></label>
                    <input type="range" class="slider" id="saturation" min="-100" max="100" step="1" value="0">
                </div>

                <div class="control-item">
                    <label>Noise Amount <span class="value-display" id="noise-amount-value">0</span></label>
                    <input type="range" class="slider" id="noise-amount" min="0" max="100" step="1" value="0">
                </div>

                <div class="control-item">
                    <label>Noise Scale <span class="value-display" id="noise-scale-value">1.0</span></label>
                    <input type="range" class="slider" id="noise-scale" min="0.1" max="5.0" step="0.1" value="1.0">
                </div>
            </div>

            <div class="control-group">
                <h3>Output</h3>

            <div class="composition-controls">
                <h4>Composition</h4>
                
                <div class="composition-status">
                    <small id="resolution-status">Gradient Engine - Ready</small>
                </div>
                
                <div class="composition-info">
                    <div class="composition-values">
                        <small id="composition-offset">Offset: 0, 0</small>
                        <small id="composition-zoom">Zoom: 1.0x</small>
                    </div>
                    <button class="button secondary" id="reset-composition">Reset View</button>
                </div>
                
                <div class="composition-help">
                    <small>Drag canvas to pan • Scroll to zoom</small>
                </div>
                </div>
            </div>

            <div class="control-group export-status-group">
                <div class="export-controls">
                    <button class="randomize-colors-btn" id="undo" disabled title="Undo">
                        <i class="ri-arrow-go-back-line"></i>
                    </button>
                    <button class="randomize-colors-btn" id="redo" disabled title="Redo">
                        <i class="ri-arrow-go-forward-line"></i>
                    </button>
                    <button class="button export-button" id="export">Export PNG</button>
                    <button class="randomize-colors-btn" id="github-btn" title="View on GitHub">
                        <i class="ri-github-line"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="app.js"></script>
</body>
</html>